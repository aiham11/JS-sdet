public static List<String> downloadTestStepEmbeddedAttachments(String jsonResponse, String apiKey, String downloadLocation, String testCaseKey, String jiraBaseUrl, String stepField) {
    // Parsing the JSON response and extracting the embedded URLs
    String imgSrcRegex = "(?<=src=\")[^\"]*";
    Pattern pattern = Pattern.compile(imgSrcRegex);
    Matcher matcher = pattern.matcher(jsonResponse);

    List<String> downloadPaths = new ArrayList<>();
    while (matcher.find()) {
        String imgSrc = matcher.group();
        String fullUrl = jiraBaseUrl + imgSrc.replace("../", "/");

        // Add logging
        logger.info("Attempting to download from URL: " + fullUrl);

        try {
            String downloadedFilePath = downloadFileFromUrl(fullUrl, downloadLocation);
            downloadPaths.add(downloadedFilePath);
        } catch (IOException e) {
            logger.error("Error downloading file from URL: " + fullUrl, e);
        }
    }

    return downloadPaths;
}
