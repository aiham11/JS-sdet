public void migrateFileAttachmentsFromTestStepsToTestCase(String rallyTestCaseOID, List<JiraTestStep> jiraTestSteps, RallyRestApi rallyApi) {
    if (rallyTestCaseOID == null || rallyTestCaseOID.isEmpty()) {
        logger.error("Rally TestCase ID is null or empty. Cannot migrate file attachments.");
        return;
    }

    for (JiraTestStep jiraTestStep : jiraTestSteps) {
        List<JiraAttachment> fileAttachments = jiraTestStep.getAttachments(); // Retrieve file attachments for each step

        if (fileAttachments != null && !fileAttachments.isEmpty()) {
            for (JiraAttachment attachment : fileAttachments) {
                try {
                    // Assuming you have a method to get the file path from JiraAttachment
                    String filePath = attachment.getFilePath(); // Adjust this based on your actual method to retrieve file path
                    String attachmentOID = attachFileToRallyTestCase(rallyApi, rallyTestCaseOID, filePath);
                    if (attachmentOID != null) {
                        logger.info("Successfully migrated attachment from Test Step to Test Case level for file: " + filePath);
                    } else {
                        logger.error("Failed to migrate attachment for file: " + filePath);
                    }
                } catch (IOException e) {
                    logger.error("IO Exception occurred while migrating file attachment from Test Step to Test Case level", e);
                }
            }
        }
    }
}
