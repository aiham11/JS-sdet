// Download and upload attachments for each test step
for (JiraTestStep step : testSteps) {
    List<String> stepAttachmentPaths = jiraOperation.downloadStepAttachments(step);
    List<String> embeddedImages = jiraOperation.downloadEmbeddedImages(step);
    stepAttachmentPaths.addAll(embeddedImages);

    if (!stepAttachmentPaths.isEmpty()) {
        // Correct method usage for attaching files to Rally Test Step
        rallyOperation.attachFilesToTestStep(rallyTestcaseOID, step.getIndex(), stepAttachmentPaths);
        Utils.deleteAttachmentFileFromLocal(stepAttachmentPaths);
    }
}

