public List<String> downloadEmbeddedImages(JiraTestStep step) {
    List<String> embeddedImageUrls = step.getEmbeddedImageUrls();
    List<String> downloadedPaths = new ArrayList<>();
    String jiraBaseUrl = ConfigLoader.getConfigValue("JIRA_BASE_URL");  // Get the Jira base URL from the configuration

    if (embeddedImageUrls == null || embeddedImageUrls.isEmpty()) {
        logger.warn("No embedded images found for the test step: " + step.getDescription());
        return downloadedPaths;
    }

    for (String imageUrl : embeddedImageUrls) {
        if (imageUrl != null && !imageUrl.isEmpty()) {
            try {
                // Construct the full URL
                String fullUrl = imageUrl.startsWith("http") ? imageUrl : jiraBaseUrl + imageUrl.replace("../", "/");

                logger.info("Downloading image from URL: " + fullUrl);
                String filePath = Utils.downloadFileFromUrl(fullUrl, "C:attachments");
                if (filePath != null) {
                    downloadedPaths.add(filePath);
                    logger.info("Downloaded image to: " + filePath);
                } else {
                    logger.error("Failed to download image from URL: " + fullUrl);
                }
            } catch (Exception e) {
                logger.error("Exception while downloading image from URL: " + imageUrl, e);
            }
        } else {
            logger.warn("Encountered null or empty image URL.");
        }
    }
    return downloadedPaths;
}
